2020-07-09 00:21:59,543 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:21:59,544 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,545 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:21:59,546 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,546 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:21:59,547 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,548 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:21:59,554 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,554 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:21:59,555 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,555 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:21:59,556 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,557 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:21:59,557 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,558 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:21:59,559 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,560 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:21:59,560 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,561 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:21:59,562 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,562 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:21:59,563 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,564 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:21:59,565 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,565 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:21:59,566 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,566 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:21:59,567 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,568 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:21:59,568 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,569 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:21:59,571 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:21:59,571 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:22:10,241 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:22:10,241 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:22:10,241 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:22:10,242 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:22:10,242 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:22:10,246 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:22:10,247 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:22:10,253 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:22:10,253 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:22:10,388 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:22:10,389 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:22:10,390 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,392 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:22:10,395 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,396 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:22:10,397 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,398 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:22:10,399 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,399 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:22:10,400 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,400 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:22:10,401 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,401 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:22:10,402 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,402 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:22:10,403 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,403 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:22:10,404 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,405 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:22:10,405 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,406 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:22:10,406 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,407 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:22:10,408 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,408 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:22:10,409 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,409 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:22:10,410 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,410 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:22:10,411 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,411 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:22:10,412 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,412 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:22:10,413 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,414 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:22:10,414 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,415 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:22:10,415 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,416 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:22:10,417 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:22:10,417 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:23:35,796 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:23:35,796 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:23:35,797 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:23:35,797 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:23:35,797 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:23:35,808 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:23:35,809 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:23:35,822 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:23:35,822 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:23:35,964 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:23:35,966 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:23:35,967 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,970 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:23:35,972 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,972 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:23:35,973 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,973 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:23:35,974 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,975 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:23:35,975 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,976 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:23:35,977 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,977 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:23:35,978 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,979 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:23:35,980 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,981 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:23:35,982 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,983 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:23:35,983 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,984 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:23:35,984 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,985 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:23:35,985 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,986 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:23:35,987 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,988 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:23:35,988 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,989 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:23:35,990 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,990 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:23:35,991 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,991 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:23:35,992 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,992 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:23:35,993 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,994 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:23:35,994 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,995 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:23:35,995 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:23:35,996 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:23:35,996 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        md_id IN (9415, 9557);
2020-07-09 00:23:35,996 - root.plexdata - ERROR - SQLite error: no such column: md_id
2020-07-09 00:24:39,557 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:24:39,557 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:24:39,559 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:24:39,559 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:24:39,559 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:24:39,567 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:24:39,567 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:24:39,580 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:24:39,581 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:24:39,717 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:24:39,718 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:24:39,719 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,724 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:24:39,725 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,726 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:24:39,727 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,727 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:24:39,730 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,731 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:24:39,732 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,732 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:24:39,733 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,734 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:24:39,734 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,735 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:24:39,735 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,736 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:24:39,737 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,737 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:24:39,738 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,738 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:24:39,739 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,741 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:24:39,742 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,743 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:24:39,743 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,744 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:24:39,744 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,745 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:24:39,746 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,746 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:24:39,752 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,753 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:24:39,753 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,754 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:24:39,755 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,755 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:24:39,756 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,757 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:24:39,757 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:24:39,757 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:24:39,758 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 00:24:39,760 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 00:26:36,054 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:26:36,054 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:26:36,054 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:26:36,054 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:26:36,055 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:26:36,065 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:26:36,066 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:26:36,075 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:26:36,075 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:26:36,231 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:26:36,232 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:26:36,233 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,234 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:26:36,235 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,236 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:26:36,237 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,238 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:26:36,239 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,240 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:26:36,241 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,241 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:26:36,242 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,243 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:26:36,244 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,245 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:26:36,245 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,246 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:26:36,247 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,247 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:26:36,248 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,249 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:26:36,250 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,250 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:26:36,251 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,252 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:26:36,252 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,253 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:26:36,253 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,254 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:26:36,255 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,255 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:26:36,275 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,282 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:26:36,284 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,284 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:26:36,285 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,286 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:26:36,286 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,287 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:26:36,288 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:36,288 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:26:36,288 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 00:26:36,290 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 00:26:54,020 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:26:54,020 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:26:54,020 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:26:54,020 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:26:54,020 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:26:54,025 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:26:54,026 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:26:54,039 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:26:54,040 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:26:54,181 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:26:54,182 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:26:54,183 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,183 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:26:54,184 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,185 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:26:54,185 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,186 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:26:54,186 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,187 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:26:54,188 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,188 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:26:54,189 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,190 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:26:54,190 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,191 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:26:54,192 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,192 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:26:54,193 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,194 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:26:54,194 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,195 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:26:54,196 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,196 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:26:54,197 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,198 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:26:54,210 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,216 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:26:54,217 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,218 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:26:54,219 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,219 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:26:54,220 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,221 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:26:54,221 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,222 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:26:54,223 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,223 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:26:54,224 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,225 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:26:54,225 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:26:54,226 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:26:54,226 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 00:26:54,228 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 00:27:04,374 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:27:04,374 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:27:04,375 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:27:04,375 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:27:04,375 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:27:04,381 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:27:04,381 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:27:04,388 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:27:04,388 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:27:04,528 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:27:04,529 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:27:04,530 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,531 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:27:04,531 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,532 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:27:04,532 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,533 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:27:04,534 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,535 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:27:04,535 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,536 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:27:04,536 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,537 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:27:04,537 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,538 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:27:04,539 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,539 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:27:04,540 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,541 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:27:04,551 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,551 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:27:04,552 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,553 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:27:04,553 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,554 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:27:04,554 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,555 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:27:04,555 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,556 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:27:04,556 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,560 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:27:04,561 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,562 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:27:04,562 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,563 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:27:04,564 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,564 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:27:04,565 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,565 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:27:04,566 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:27:04,566 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:27:04,566 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 00:27:04,569 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 00:27:04,569 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9415, 10533, 1593469440, 1536430128);
2020-07-09 00:27:04,576 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 00:27:04,576 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9557, 10585, 1593469428, 1536534315);
2020-07-09 00:27:04,581 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 00:28:22,074 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 00:28:22,074 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 00:28:22,074 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:28:22,075 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 00:28:22,075 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 00:28:22,086 - root.plexdata - INFO - success opening plex database connection
2020-07-09 00:28:22,086 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 00:28:22,093 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 00:28:22,094 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 00:28:22,239 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 00:28:22,240 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:28:22,242 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,243 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:28:22,245 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,247 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 00:28:22,248 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,248 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 00:28:22,249 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,250 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:28:22,250 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,251 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:28:22,252 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,253 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 00:28:22,254 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,255 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 00:28:22,255 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,256 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:28:22,257 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,257 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 00:28:22,258 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,259 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 00:28:22,259 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,260 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 00:28:22,261 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,261 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 00:28:22,262 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,263 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 00:28:22,264 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,264 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 00:28:22,265 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,266 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 00:28:22,266 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,267 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 00:28:22,268 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,268 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 00:28:22,269 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,270 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 00:28:22,270 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,271 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 00:28:22,272 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 00:28:22,272 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 00:28:22,272 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 00:28:22,275 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 00:28:22,276 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9415, 10533, 1593469440, 1536430128);
2020-07-09 00:28:22,281 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 00:28:22,282 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9557, 10585, 1593469428, 1536534315);
2020-07-09 00:28:22,292 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 21:10:34,223 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 21:10:34,224 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 21:10:34,224 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 21:10:34,224 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 21:10:34,224 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 21:10:34,232 - root.plexdata - INFO - success opening plex database connection
2020-07-09 21:10:34,232 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 21:10:34,240 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 21:10:34,240 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 21:10:34,402 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 21:10:34,403 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 21:10:34,404 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,405 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 21:10:34,406 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,406 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 21:10:34,407 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,407 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 21:10:34,408 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,409 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 21:10:34,409 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,410 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 21:10:34,411 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,411 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 21:10:34,412 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,412 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 21:10:34,413 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,414 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 21:10:34,414 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,415 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 21:10:34,416 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,417 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 21:10:34,417 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,418 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 21:10:34,419 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,420 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 21:10:34,420 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,421 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 21:10:34,422 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,423 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 21:10:34,425 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,425 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 21:10:34,426 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,427 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 21:10:34,428 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,433 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 21:10:34,434 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,435 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 21:10:34,436 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,436 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 21:10:34,437 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:10:34,437 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 21:10:34,437 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 21:10:34,440 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 21:10:34,440 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9415, 10533, 1593469440, 1536430128);
2020-07-09 21:10:34,449 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 21:10:34,449 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9557, 10585, 1593469428, 1536534315);
2020-07-09 21:10:34,451 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 21:10:34,452 - root.plexdata - DEBUG - Query to execute:
	SELECT plex_media_id FROM ifc_media;
2020-07-09 21:10:34,452 - root.plexdata - DEBUG - 3 rows from ifc database returned.
2020-07-09 21:11:00,289 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 21:11:00,289 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 21:11:00,290 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 21:11:00,290 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 21:11:00,290 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 21:11:00,298 - root.plexdata - INFO - success opening plex database connection
2020-07-09 21:11:00,298 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 21:11:00,309 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 21:11:00,309 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 21:11:00,465 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 21:11:00,470 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 21:11:00,471 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,472 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 21:11:00,473 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,473 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 21:11:00,474 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,474 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 21:11:00,475 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,476 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 21:11:00,476 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,477 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 21:11:00,477 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,478 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 21:11:00,479 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,479 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 21:11:00,480 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,480 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 21:11:00,481 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,482 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 21:11:00,482 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,483 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 21:11:00,484 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,484 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Romance', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Romance'
    ) LIMIT 1
2020-07-09 21:11:00,485 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,485 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Thriller', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Thriller'
    ) LIMIT 1
2020-07-09 21:11:00,486 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,487 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'War', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'War'
    ) LIMIT 1
2020-07-09 21:11:00,487 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,488 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 21:11:00,489 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,489 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 21:11:00,490 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,491 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 21:11:00,491 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,492 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 21:11:00,494 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,496 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 21:11:00,497 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,497 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Mini-Series', 'tv_shows') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Mini-Series'
    ) LIMIT 1
2020-07-09 21:11:00,498 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:11:00,498 - root.plexdata - INFO - Success executing the query to update all 20 TV and Movie genres.
2020-07-09 21:11:00,499 - root.plexdata - DEBUG - Query to execute:
	SELECT 
        media_items.id AS media_id,
        metadata_item_id AS metadata_id,
        CAST(strftime('%s', metadata_items.updated_at) AS INTEGER) AS media_last_update,
        CAST(strftime('%s', media_items.updated_at) AS INTEGER) AS metadata_last_update
    FROM media_items
    INNER JOIN metadata_items
        ON media_items.metadata_item_id = metadata_items.id
    WHERE
        media_items.library_section_id IN (2, 3) 
        AND
        media_id IN (9415, 9557);
2020-07-09 21:11:00,502 - root.plexdata - DEBUG - 2 rows from plex database returned.
2020-07-09 21:11:00,502 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9415, 10533, 1593469440, 1536430128);
2020-07-09 21:11:00,510 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 21:11:00,510 - root.plexdata - DEBUG - Query to execute:
	REPLACE
        INTO ifc_media(plex_media_id, plex_metadata_item_id,plex_media_last_update,plex_metadata_last_update)
        VALUES(9557, 10585, 1593469428, 1536534315);
2020-07-09 21:11:00,513 - root.plexdata - DEBUG - 1 rows in ifc database affected by the execute call.
2020-07-09 21:11:00,513 - root.plexdata - DEBUG - Query to execute:
	SELECT plex_media_id FROM ifc_media;
2020-07-09 21:11:00,513 - root.plexdata - DEBUG - 3 rows from ifc database returned.
2020-07-09 21:12:58,777 - root.plexdata - DEBUG - Path to this application: /home/ananchev/ifc-plex-stalker
2020-07-09 21:12:58,777 - root.plexdata - DEBUG - Using interface db path: /home/ananchev/ifc-plex-stalker/interface.db
2020-07-09 21:12:58,778 - root.plexdata - DEBUG - Using plex db path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 21:12:58,778 - root.plexdata - DEBUG - Using plex metadata folder path: /home/ananchev/plex-on-sub/Plug-in Support/Databases/com.plexapp.plugins.library.db
2020-07-09 21:12:58,778 - root.plexdata - DEBUG - Using stalker database stalker_db on 192.168.2.72, connected as stalker user: 
2020-07-09 21:12:58,785 - root.plexdata - INFO - success opening plex database connection
2020-07-09 21:12:58,785 - root.plexdata - INFO - success opening ifc database connection
2020-07-09 21:12:58,792 - root.plexdata - INFO - success opening stalker database connection
2020-07-09 21:12:58,792 - root.plexdata - DEBUG - Query to execute:
	SELECT DISTINCT tags_genre, library_section_id
    FROM metadata_items
    WHERE library_section_id IN (2, 3);
2020-07-09 21:12:58,955 - root.plexdata - DEBUG - 28 rows from plex database returned.
2020-07-09 21:12:58,956 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Action', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Action'
    ) LIMIT 1
2020-07-09 21:12:58,957 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,958 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Adventure', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Adventure'
    ) LIMIT 1
2020-07-09 21:12:58,958 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,959 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Biography', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Biography'
    ) LIMIT 1
2020-07-09 21:12:58,960 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,961 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Comedy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Comedy'
    ) LIMIT 1
2020-07-09 21:12:58,962 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,962 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Crime', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Crime'
    ) LIMIT 1
2020-07-09 21:12:58,963 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,963 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Drama', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Drama'
    ) LIMIT 1
2020-07-09 21:12:58,964 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,965 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Family', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Family'
    ) LIMIT 1
2020-07-09 21:12:58,966 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,966 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Fantasy', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Fantasy'
    ) LIMIT 1
2020-07-09 21:12:58,967 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,968 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'History', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'History'
    ) LIMIT 1
2020-07-09 21:12:58,969 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,969 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Music', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Music'
    ) LIMIT 1
2020-07-09 21:12:58,970 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
2020-07-09 21:12:58,971 - root.plexdata - DEBUG - Query to execute:
	INSERT INTO cat_genre (title, category_alias)
    SELECT * FROM (SELECT 'Musical', 'movies') AS tmp
    WHERE NOT EXISTS (
        SELECT title FROM cat_genre WHERE title = 'Musical'
    ) LIMIT 1
2020-07-09 21:12:58,971 - root.plexdata - DEBUG - No recordset returned by the execute call on stalker database.
